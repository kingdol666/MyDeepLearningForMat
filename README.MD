# ææ–™å¸¦éš™é¢„æµ‹ç³»ç»Ÿ (Material Band Gap Prediction System)

![ææ–™ç§‘å­¦](https://img.shields.io/badge/ææ–™ç§‘å­¦-æ·±åº¦å­¦ä¹ -blue)
![Python](https://img.shields.io/badge/Python-3.6+-brightgreen)
![PyTorch](https://img.shields.io/badge/PyTorch-1.7+-red)

## é¡¹ç›®ç®€ä»‹

ææ–™å¸¦éš™é¢„æµ‹ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºæ·±åº¦å­¦ä¹ çš„å·¥å…·ï¼Œç”¨äºé¢„æµ‹æ— æœºææ–™çš„å¸¦éš™å€¼ã€‚å¸¦éš™æ˜¯ææ–™ç”µå­èƒ½å¸¦ç»“æ„ä¸­çš„å…³é”®å‚æ•°ï¼Œå†³å®šäº†ææ–™çš„ç”µå­æ€§è´¨ã€å…‰å­¦æ€§è´¨å’Œå¯¼ç”µæ€§èƒ½ã€‚å‡†ç¡®é¢„æµ‹ææ–™å¸¦éš™å¯ä»¥åŠ é€Ÿæ–°ææ–™çš„å‘ç°å’Œè®¾è®¡ï¼Œåœ¨å¤ªé˜³èƒ½ç”µæ± ã€åŠå¯¼ä½“ã€å…‰å­¦ææ–™ç­‰é¢†åŸŸå…·æœ‰é‡è¦åº”ç”¨ä»·å€¼ã€‚

æœ¬ç³»ç»Ÿåˆ©ç”¨ææ–™çš„åŸºæœ¬ç‰¹æ€§ï¼ˆå¦‚å…ƒç´ ç»„æˆã€å½¢æˆèƒ½ç­‰ï¼‰é¢„æµ‹å…¶å¸¦éš™å€¼ï¼Œå¹¶æä¾›äº†å‘½ä»¤è¡Œå’ŒWebç•Œé¢ä¸¤ç§äº¤äº’æ–¹å¼ã€‚ç³»ç»Ÿæ”¯æŒå•æ¨¡å‹é¢„æµ‹å’Œé›†æˆæ¨¡å‹é¢„æµ‹ï¼Œåè€…é€šå¸¸å…·æœ‰æ›´é«˜çš„å‡†ç¡®æ€§ã€‚

## ä¸»è¦ç‰¹æ€§

- **é«˜ç²¾åº¦é¢„æµ‹**ï¼šåŸºäºä¼˜åŒ–çš„æ·±åº¦ç¥ç»ç½‘ç»œï¼Œæä¾›ç²¾ç¡®çš„å¸¦éš™é¢„æµ‹
- **å¢å¼ºå‹ç‰¹å¾å·¥ç¨‹**ï¼šåˆ©ç”¨å…ƒç´ ç‰¹æ€§ã€ç”µå­ç»“æ„ç­‰å¤šç»´åº¦ç‰¹å¾æé«˜é¢„æµ‹å‡†ç¡®æ€§
- **é›†æˆå­¦ä¹ **ï¼šæ”¯æŒå¤šæ¨¡å‹é›†æˆï¼Œæé«˜é¢„æµ‹ç¨³å®šæ€§å’Œå‡†ç¡®æ€§
- **ç”¨æˆ·å‹å¥½ç•Œé¢**ï¼šæä¾›ç›´è§‚çš„Webç•Œé¢å’Œä¾¿æ·çš„å‘½ä»¤è¡Œæ¥å£
- **ææ–™åˆ†ç±»**ï¼šæ ¹æ®é¢„æµ‹å¸¦éš™è‡ªåŠ¨å°†ææ–™åˆ†ç±»ä¸ºé‡‘å±/å¯¼ä½“ã€åŠå¯¼ä½“æˆ–ç»ç¼˜ä½“

## å®‰è£…è¯´æ˜

### ç¯å¢ƒè¦æ±‚

- Python 3.6+
- PyTorch 1.7+
- CUDA (å¯é€‰ï¼Œç”¨äºGPUåŠ é€Ÿ)

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»£ç ä»“åº“ï¼š
   ```bash
   git clone https://github.com/yourusername/material-bandgap-prediction.git
   cd material-bandgap-prediction
   ```

2. å®‰è£…ä¾èµ–é¡¹ï¼š
   ```bash
   pip install -r requirements.txt
   ```

3. å®‰è£…PyTorchï¼ˆæ ¹æ®æ‚¨çš„ç³»ç»Ÿå’ŒCUDAç‰ˆæœ¬ï¼‰ï¼š
   ```bash
   # CPUç‰ˆæœ¬
   pip install torch torchvision
   
   # GPUç‰ˆæœ¬ç¤ºä¾‹(CUDA 11.3)
   # pip install torch torchvision --extra-index-url https://download.pytorch.org/whl/cu113
   ```

## ä½¿ç”¨è¯´æ˜

### æ¨¡å‹è®­ç»ƒ

ä½¿ç”¨`MaterialDL.py`è¿›è¡Œæ¨¡å‹è®­ç»ƒï¼š

```bash
python MaterialDL.py
```

è¯¥å‘½ä»¤ä¼šï¼š
1. æ£€æŸ¥å¹¶è·å–Materials Projectçš„æ•°æ®
2. è¿›è¡Œç‰¹å¾å·¥ç¨‹ä¸æ•°æ®é¢„å¤„ç†
3. è®­ç»ƒå•ä¸ªæ·±åº¦å­¦ä¹ æ¨¡å‹æˆ–é›†æˆæ¨¡å‹
4. ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹å’Œæ ‡å‡†åŒ–å™¨

### å‘½ä»¤è¡Œé¢„æµ‹

é€šè¿‡`MaterialPredictor.py`è¿›è¡Œå‘½ä»¤è¡Œé¢„æµ‹ï¼š

```bash
python MaterialPredictor.py --elements "Si,O" --nelements 2 --formation_energy -5.23
```

å‚æ•°è¯´æ˜ï¼š
- `--elements`: ææ–™çš„å…ƒç´ ç»„æˆï¼Œç”¨é€—å·åˆ†éš”
- `--nelements`: ææ–™ä¸­ä¸åŒå…ƒç´ çš„æ•°é‡
- `--formation_energy`: ææ–™çš„å½¢æˆèƒ½(eV/atom)
- `--use_ensemble`: æ˜¯å¦ä½¿ç”¨é›†æˆæ¨¡å‹(å¯é€‰)

### Webç•Œé¢

å¯åŠ¨Webç•Œé¢è¿›è¡Œäº¤äº’å¼é¢„æµ‹ï¼š

```bash
python web-ui.py
```

å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® http://127.0.0.1:7860 å³å¯ä½¿ç”¨å›¾å½¢ç•Œé¢è¿›è¡Œé¢„æµ‹ã€‚

## é¡¹ç›®ç»“æ„

- `MaterialDL.py`: æ ¸å¿ƒæ¨¡å‹å®šä¹‰å’Œè®­ç»ƒè„šæœ¬
- `MaterialPredictor.py`: é¢„æµ‹åŠŸèƒ½å®ç°å’Œå‘½ä»¤è¡Œæ¥å£
- `web-ui.py`: Webç•Œé¢å®ç°
- `app.py`: æ‰©å±•åº”ç”¨ç¨‹åºæ¥å£
- `requirements.txt`: é¡¹ç›®ä¾èµ–é¡¹
- `dataset/`: æ•°æ®å’Œæ¨¡å‹å­˜å‚¨ç›®å½•
  - `model.pth`: è®­ç»ƒå¥½çš„æ¨¡å‹
  - `scaler.json`: ç‰¹å¾æ ‡å‡†åŒ–å™¨
  - `ensemble/`: é›†æˆæ¨¡å‹ç›®å½•
- `prediction_results/`: é¢„æµ‹ç»“æœå­˜å‚¨ç›®å½•

## æŠ€æœ¯å®ç°

æœ¬é¡¹ç›®åˆ©ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯é¢„æµ‹ææ–™å¸¦éš™ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æŠ€æœ¯ç‚¹ï¼š

### æ¨¡å‹æ¶æ„

- **ImprovedMaterialsNet**: ä¼˜åŒ–çš„æ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼ŒåŒ…å«å¤šåˆ†æ”¯ç‰¹å¾æå–ã€æ‰¹å½’ä¸€åŒ–ã€æ®‹å·®è¿æ¥ç­‰
- **EnsembleModel**: é›†æˆå¤šä¸ªæ¨¡å‹çš„ç»“æœï¼Œå‡å°‘å•ä¸€æ¨¡å‹çš„æ–¹å·®å’Œåå·®

### ç‰¹å¾å·¥ç¨‹

é¡¹ç›®ä½¿ç”¨äº†å¤šç§ææ–™ç‰¹å¾ï¼ŒåŒ…æ‹¬ï¼š
- å…ƒç´ ç”µè´Ÿæ€§ã€åŸå­åŠå¾„ã€ä»·ç”µå­æ•°ç­‰åŸºæœ¬å±æ€§
- å…ƒç´ å‘¨æœŸè¡¨ä½ç½®ç‰¹å¾ï¼ˆsåŒºã€påŒºã€dåŒºã€fåŒºå…ƒç´ æ¯”ä¾‹ï¼‰
- ç”µå­ç»“æ„ç‰¹å¾ï¼ˆè½¨é“æ¯”ä¾‹ã€é‡‘å±æ€§æ¯”ä¾‹ç­‰ï¼‰
- åŒ–å­¦é”®ç‰¹å¾ï¼ˆå…±ä»·æ€§ã€ç¦»å­æ€§ï¼‰

### é¢„æµ‹æµç¨‹

1. è¾“å…¥ææ–™çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå…ƒç´ ç»„æˆã€å…ƒç´ æ•°é‡ã€å½¢æˆèƒ½ï¼‰
2. è¿›è¡Œç‰¹å¾å·¥ç¨‹ï¼Œè®¡ç®—ææ–™çš„ç‰¹å¾å‘é‡
3. å¯¹ç‰¹å¾è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†
4. ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹
5. æ ¹æ®é¢„æµ‹å¸¦éš™å¯¹ææ–™è¿›è¡Œåˆ†ç±»

## ç¤ºä¾‹

### é¢„æµ‹äºŒæ°§åŒ–ç¡…(SiOâ‚‚)çš„å¸¦éš™

```bash
python MaterialPredictor.py --elements "Si,O" --nelements 2 --formation_energy -5.23
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
é¢„æµ‹å¸¦éš™: 6.2451 eV
ææ–™ç±»å‹: ğŸŸ  ç»ç¼˜ä½“ (å¸¦éš™ > 3.0 eV)
```

### é¢„æµ‹ç ·åŒ–é•“(GaAs)çš„å¸¦éš™

```bash
python MaterialPredictor.py --elements "Ga,As" --nelements 2 --formation_energy -0.19
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
é¢„æµ‹å¸¦éš™: 1.4327 eV
ææ–™ç±»å‹: ğŸŸ¢ åŠå¯¼ä½“ (å¸¦éš™ 0.1-3.0 eV)
```

## å¼€å‘è€…ä¿¡æ¯

- é›†æˆæ¨¡å‹è®­ç»ƒï¼šä½¿ç”¨`MaterialDL.py`ä¸­çš„`--ensemble`å‚æ•°
- æ¨¡å‹è‡ªå®šä¹‰ï¼šä¿®æ”¹`ImprovedMaterialsNet`ç±»çš„ç»“æ„
- ç‰¹å¾å·¥ç¨‹ï¼šä¿®æ”¹`prepare_enhanced_features`å‡½æ•°

## è®¸å¯è¯

MIT License

## å‚è€ƒæ–‡çŒ®

1. Materials Project (https://materialsproject.org/)
2. "Machine Learning for Materials Science" - Nature Reviews
3. "Deep Learning for Materials Discovery" - Science

## é¸£è°¢

æ„Ÿè°¢Materials Projectæä¾›çš„ææ–™æ•°æ®æ”¯æŒã€‚
